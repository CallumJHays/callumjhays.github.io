<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="description" content="Callum Hays&#x27; Personal Website"/><meta property="og:description" content="Callum Hays&#x27; Personal Website"/><link rel="icon" href="data:image/svg+xml,&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 100 100&quot;&gt;&lt;text y=&quot;.9em&quot; font-size=&quot;90&quot;&gt;
                  👨‍💻&lt;/text&gt;&lt;/svg&gt;" class="jsx-3307095283"/><title>Git-Subrepo Cheat Sheet</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta property="og:title" content="Git-Subrepo Cheat Sheet"/><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/5d16817d9c943763.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5d16817d9c943763.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-0a30e97f89b891f9.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-1173e5a5f3c664fe.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8cb0c3f8da50b878.js" defer=""></script><script src="/_next/static/chunks/792-15dc1a615b86f572.js" defer=""></script><script src="/_next/static/chunks/409-ba90c8680b29181f.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-db2f0a8bf92c89b0.js" defer=""></script><script src="/_next/static/0XTsY9DuvwLtZDlqmq_QU/_buildManifest.js" defer=""></script><script src="/_next/static/0XTsY9DuvwLtZDlqmq_QU/_ssgManifest.js" defer=""></script><style id="__jsx-3307095283">h1{font-size:3rem;line-height:1;}h2{font-size:1.5rem;line-height:2rem;}*{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;}</style><style id="__jsx-666759429">.jsx-666759429 p{padding-top:.5rem;padding-bottom:.5rem;}</style></head><body><div id="__next"><div id="particle-background"><canvas style="width:100%;height:100%"></canvas></div><div class="min-h-screen flex flex-col justify-between"><div class="bg-white border-gray-500 mb-4 border-b"><div class="container max-w-3xl mx-auto grid grid-cols-4 divide-x divide-gray-500 text-center py-2"><h3 class="py-2 hover:underline hover:text-green-500 cursor-pointer">Home</h3><h3 class="py-2 hover:underline hover:text-green-500 cursor-pointer">Personal Projects</h3><h3 class="py-2 hover:underline hover:text-green-500 cursor-pointer">Blog</h3><h3 class="py-2 hover:underline hover:text-green-500 cursor-pointer">Resume</h3></div></div><div class="flex flex-grow flex-col align-middle container mx-auto max-w-3xl p-4 justify-start"><img src="git.png" class="jsx-666759429 object-contain h-56 m-10"/><div class="jsx-666759429 bg-white rounded p-4"><h1 class="jsx-666759429 mb-8 text-center">Git-Subrepo Cheat Sheet</h1><p class="jsx-666759429 mb-4 text-center">Git subrepo seems easy to use... until you try. Follow these simple steps to avoid the headache.</p><div class="jsx-666759429 text-gray-600 flex flex-row justify-between text-sm"><div class="jsx-666759429">Published <!-- -->10 Oct 2022</div><div class="jsx-666759429">Edited <!-- -->10 Oct 2022</div><div class="jsx-666759429">Written by <span><span class=" cursor-pointer underline text-green-500">@CallumJHays</span></span></div></div><hr class="jsx-666759429 my-4"/><div><p><span><span class=" cursor-pointer underline text-green-500">git-subrepo</span></span> promises to be a simple-to-use replacement for git submodules and git subtree.
Unfortunately I found the readme to be quite hard to follow.</p><p>Furthermore, <span><span class=" cursor-pointer underline text-green-500">the highest ranked tutorial on google</span></span>
misses steps that cause the subrepo to be in a broken state, and the error message is extremely unhelpful.</p><p>So, here&#x27;s the steps I use to get it working as expected.
All commands must be run from the root of the parent repo.</p><h2 class="mt-8">Cloning</h2><pre><div class="my-2 rounded overflow-hidden"><pre class="prism-code language-bash" style="background-color:#2a2734;color:#9a86fd;padding:20px"><div class="token-line" style="color:#9a86fd"><span class="token function" style="color:#9a86fd">git</span><span class="token plain"> subrepo clone </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain">remote-url</span><span class="token operator" style="color:#e09142">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain">subdir</span><span class="token operator" style="color:#e09142">&gt;</span><span class="token plain"></span></div></pre></div></pre><h2 class="mt-8">Pulling</h2><pre><div class="my-2 rounded overflow-hidden"><pre class="prism-code language-bash" style="background-color:#2a2734;color:#9a86fd;padding:20px"><div class="token-line" style="color:#9a86fd"><span class="token function" style="color:#9a86fd">git</span><span class="token plain"> subrepo pull </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain">subdir</span><span class="token operator" style="color:#e09142">&gt;</span><span class="token plain"></span></div></pre></div></pre><p>If there were merge conflicts, follow the instructions in the error message.
I&#x27;m an avid vscode user, so I found it easier to open the merge conflict .git subdirectory in vscode,
and resolve the conflicts there before following the rest of the instructions.</p><p>After pretty much every pull, you should run:</p><pre><div class="my-2 rounded overflow-hidden"><pre class="prism-code language-bash" style="background-color:#2a2734;color:#9a86fd;padding:20px"><div class="token-line" style="color:#9a86fd"><span class="token function" style="color:#9a86fd">git</span><span class="token plain"> subrepo clean </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain">subdir</span><span class="token operator" style="color:#e09142">&gt;</span><span class="token plain"></span></div></pre></div></pre><p>If you don&#x27;t, any subsequent <span class="px-1 font-mono rounded gray bg-yellow-100">git subrepo push</span> <span style="color:red">WILL FAIL with a cryptic error message.</span></p><h2 class="mt-8">Pushing</h2><pre><div class="my-2 rounded overflow-hidden"><pre class="prism-code language-bash" style="background-color:#2a2734;color:#9a86fd;padding:20px"><div class="token-line" style="color:#9a86fd"><span class="token function" style="color:#9a86fd">git</span><span class="token plain"> subrepo push </span><span class="token operator" style="color:#e09142">&lt;</span><span class="token plain">subdir</span><span class="token operator" style="color:#e09142">&gt;</span><span class="token plain"></span></div></pre></div></pre><h2 class="mt-8">Parting Words</h2><p>Hopefully this helps someone else out there get through the massive headache that is git-subrepo.</p><p>Why they would design a CLI to be equivalent to git, but the require a different command
to be run with pretty much every usage without any proper indication of its necessity is beyond me.</p><p>I will definitely be considering switching to <span class="px-1 font-mono rounded gray bg-yellow-100">git subtree</span> in the future after this fiasco.</p></div><hr class="jsx-666759429 mb-12 mt-4"/><div id="disqus_thread"></div></div></div><div class="bg-white border-gray-500 mt-4 border-t"><div class="container max-w-3xl mx-auto grid grid-cols-4 divide-x divide-gray-500 text-center py-2"><h3 class="py-2 hover:underline hover:text-green-500 cursor-pointer">Home</h3><h3 class="py-2 hover:underline hover:text-green-500 cursor-pointer">Personal Projects</h3><h3 class="py-2 hover:underline hover:text-green-500 cursor-pointer">Blog</h3><h3 class="py-2 hover:underline hover:text-green-500 cursor-pointer">Resume</h3></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"\"use strict\";\n\nvar _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/ingydotnet/git-subrepo\"\n  }, \"git-subrepo\"), \" promises to be a simple-to-use replacement for git submodules and git subtree.\\nUnfortunately I found the readme to be quite hard to follow.\"), mdx(\"p\", null, \"Furthermore, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://blog.s-schoener.com/2019-04-20-git-subrepo/\"\n  }, \"the highest ranked tutorial on google\"), \"\\nmisses steps that cause the subrepo to be in a broken state, and the error message is extremely unhelpful.\"), mdx(\"p\", null, \"So, here's the steps I use to get it working as expected.\\nAll commands must be run from the root of the parent repo.\"), mdx(\"h2\", null, \"Cloning\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"git subrepo clone \u003cremote-url\u003e \u003csubdir\u003e\\n\")), mdx(\"h2\", null, \"Pulling\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"git subrepo pull \u003csubdir\u003e\\n\")), mdx(\"p\", null, \"If there were merge conflicts, follow the instructions in the error message.\\nI'm an avid vscode user, so I found it easier to open the merge conflict .git subdirectory in vscode,\\nand resolve the conflicts there before following the rest of the instructions.\"), mdx(\"p\", null, \"After pretty much every pull, you should run:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"git subrepo clean \u003csubdir\u003e\\n\")), mdx(\"p\", null, \"If you don't, any subsequent \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"git subrepo push\"), \" \", mdx(\"span\", {\n    style: {\n      color: \"red\"\n    }\n  }, \"WILL FAIL with a cryptic error message.\")), mdx(\"h2\", null, \"Pushing\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"git subrepo push \u003csubdir\u003e\\n\")), mdx(\"h2\", null, \"Parting Words\"), mdx(\"p\", null, \"Hopefully this helps someone else out there get through the massive headache that is git-subrepo.\"), mdx(\"p\", null, \"Why they would design a CLI to be equivalent to git, but the require a different command\\nto be run with pretty much every usage without any proper indication of its necessity is beyond me.\"), mdx(\"p\", null, \"I will definitely be considering switching to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"git subtree\"), \" in the future after this fiasco.\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003e\u003cspan\u003e\u003cspan class=\" cursor-pointer underline text-green-500\"\u003egit-subrepo\u003c/span\u003e\u003c/span\u003e promises to be a simple-to-use replacement for git submodules and git subtree.\nUnfortunately I found the readme to be quite hard to follow.\u003c/p\u003e\u003cp\u003eFurthermore, \u003cspan\u003e\u003cspan class=\" cursor-pointer underline text-green-500\"\u003ethe highest ranked tutorial on google\u003c/span\u003e\u003c/span\u003e\nmisses steps that cause the subrepo to be in a broken state, and the error message is extremely unhelpful.\u003c/p\u003e\u003cp\u003eSo, here\u0026#x27;s the steps I use to get it working as expected.\nAll commands must be run from the root of the parent repo.\u003c/p\u003e\u003ch2 class=\"mt-8\"\u003eCloning\u003c/h2\u003e\u003cpre\u003e\u003cdiv class=\"my-2 rounded overflow-hidden\"\u003e\u003cpre class=\"prism-code language-bash\" style=\"background-color:#2a2734;color:#9a86fd;padding:20px\"\u003e\u003cdiv class=\"token-line\" style=\"color:#9a86fd\"\u003e\u003cspan class=\"token function\" style=\"color:#9a86fd\"\u003egit\u003c/span\u003e\u003cspan class=\"token plain\"\u003e subrepo clone \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#e09142\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003eremote-url\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#e09142\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#e09142\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003esubdir\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#e09142\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/pre\u003e\u003ch2 class=\"mt-8\"\u003ePulling\u003c/h2\u003e\u003cpre\u003e\u003cdiv class=\"my-2 rounded overflow-hidden\"\u003e\u003cpre class=\"prism-code language-bash\" style=\"background-color:#2a2734;color:#9a86fd;padding:20px\"\u003e\u003cdiv class=\"token-line\" style=\"color:#9a86fd\"\u003e\u003cspan class=\"token function\" style=\"color:#9a86fd\"\u003egit\u003c/span\u003e\u003cspan class=\"token plain\"\u003e subrepo pull \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#e09142\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003esubdir\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#e09142\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/pre\u003e\u003cp\u003eIf there were merge conflicts, follow the instructions in the error message.\nI\u0026#x27;m an avid vscode user, so I found it easier to open the merge conflict .git subdirectory in vscode,\nand resolve the conflicts there before following the rest of the instructions.\u003c/p\u003e\u003cp\u003eAfter pretty much every pull, you should run:\u003c/p\u003e\u003cpre\u003e\u003cdiv class=\"my-2 rounded overflow-hidden\"\u003e\u003cpre class=\"prism-code language-bash\" style=\"background-color:#2a2734;color:#9a86fd;padding:20px\"\u003e\u003cdiv class=\"token-line\" style=\"color:#9a86fd\"\u003e\u003cspan class=\"token function\" style=\"color:#9a86fd\"\u003egit\u003c/span\u003e\u003cspan class=\"token plain\"\u003e subrepo clean \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#e09142\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003esubdir\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#e09142\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/pre\u003e\u003cp\u003eIf you don\u0026#x27;t, any subsequent \u003cspan class=\"px-1 font-mono rounded gray bg-yellow-100\"\u003egit subrepo push\u003c/span\u003e \u003cspan style=\"color:red\"\u003eWILL FAIL with a cryptic error message.\u003c/span\u003e\u003c/p\u003e\u003ch2 class=\"mt-8\"\u003ePushing\u003c/h2\u003e\u003cpre\u003e\u003cdiv class=\"my-2 rounded overflow-hidden\"\u003e\u003cpre class=\"prism-code language-bash\" style=\"background-color:#2a2734;color:#9a86fd;padding:20px\"\u003e\u003cdiv class=\"token-line\" style=\"color:#9a86fd\"\u003e\u003cspan class=\"token function\" style=\"color:#9a86fd\"\u003egit\u003c/span\u003e\u003cspan class=\"token plain\"\u003e subrepo push \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#e09142\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003esubdir\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:#e09142\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/pre\u003e\u003ch2 class=\"mt-8\"\u003eParting Words\u003c/h2\u003e\u003cp\u003eHopefully this helps someone else out there get through the massive headache that is git-subrepo.\u003c/p\u003e\u003cp\u003eWhy they would design a CLI to be equivalent to git, but the require a different command\nto be run with pretty much every usage without any proper indication of its necessity is beyond me.\u003c/p\u003e\u003cp\u003eI will definitely be considering switching to \u003cspan class=\"px-1 font-mono rounded gray bg-yellow-100\"\u003egit subtree\u003c/span\u003e in the future after this fiasco.\u003c/p\u003e","scope":{"title":"Git-Subrepo Cheat Sheet","subtitle":"Git subrepo seems easy to use... until you try. Follow these simple steps to avoid the headache.","preview":"git.png","published":"10 Oct 2022","edited":"10 Oct 2022"}},"frontMatter":{"title":"Git-Subrepo Cheat Sheet","subtitle":"Git subrepo seems easy to use... until you try. Follow these simple steps to avoid the headache.","preview":"git.png","published":"10 Oct 2022","edited":"10 Oct 2022"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"git-subrepo-cheatsheet-10102020"},"buildId":"0XTsY9DuvwLtZDlqmq_QU","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>